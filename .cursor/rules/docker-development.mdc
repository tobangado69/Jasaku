---
alwaysApply: true
---
# üöÄ Docker Development Environment Rules

## **CRITICAL: Application is Running in Docker with Hot Reload**

### **üö® CRITICAL: NEVER RUN DOCKER COMMANDS**
‚ùå `npm run build`
‚ùå `npm run dev`
‚ùå `npx next build`
‚ùå `npx next dev`
‚ùå `npm install` (directly)
‚ùå `docker-compose` commands (NEVER - unless user explicitly says "run docker-compose")
‚ùå `docker` commands (NEVER - unless user explicitly says "run docker")

### **Current Setup:**
‚úÖ **Already Running**: Docker containers with hot reload enabled
‚úÖ **Auto-reload**: Changes reflect immediately in browser
‚úÖ **No manual commands needed**: Development server is already active

### **‚ö†Ô∏è ONLY WHEN USER EXPLICITLY REQUESTS:**
**User MUST say "run docker-compose" or "run docker" explicitly:**

#### **Example User Requests That Are OK:**
- "Please run docker-compose to check the build"
- "Run docker-compose exec app npm run build"
- "I need you to run docker-compose logs"

#### **What User Should NOT Say (Don't Run):**
- "Check if it builds"
- "Test the application"
- "Verify TypeScript"
- "Run the build"

#### **Development:**
```bash
# Start development environment (only if requested)
make dev
# OR: docker-compose -f docker-compose.dev.yml up -d

# View logs (only if requested)
make dev-logs
# OR: docker-compose -f docker-compose.dev.yml logs -f app

# Execute commands in container (only if requested)
docker-compose -f docker-compose.dev.yml exec app <command>
```

#### **Database Operations (only if requested):**
```bash
# Run migrations (only if requested)
docker-compose -f docker-compose.dev.yml exec app npx prisma migrate dev

# Seed database (only if requested)
docker-compose -f docker-compose.dev.yml exec app npx prisma db seed
```

### **Available Commands (use only when user requests):**
- `make dev` - Start development environment
- `make dev-stop` - Stop development environment
- `make dev-logs` - View development logs
- `make dev-restart` - Restart development container

### **Why Docker + Hot Reload:**
- **Environment Consistency**: Same setup on all machines
- **Dependency Management**: All dependencies containerized
- **Database**: PostgreSQL running in separate container
- **Hot Reload**: Changes reflect immediately in browser
- **Portability**: Easy to deploy anywhere

### **Normal Development Workflow:**
1. **Make code changes** in your IDE
2. **Auto-reload happens automatically** - no commands needed
3. **Changes appear in browser** immediately
4. **Only run Docker commands** when user explicitly requests them

### **Debugging (only when user requests):**
- **App not loading?** User will tell you to check logs
- **Database issues?** User will tell you to check database logs
- **Port conflicts?** User will tell you to check container status

**üö® FINAL WARNING: The application is already running in Docker with hot reload. DO NOT run docker-compose commands unless the user EXPLICITLY says "run docker-compose" or "run docker".**

**If you're unsure, ASK the user: "Do you want me to run docker-compose commands?"**

**Never assume - always ask first!**